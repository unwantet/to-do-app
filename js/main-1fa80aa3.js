(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const x=document.getElementById("themeChangerButton"),m=x.querySelector("img"),G=document.getElementById("newTaskCreaterForm"),T=document.getElementById("newTaskCreaterInput"),L=document.getElementById("tasks"),U=document.getElementById("taskCardTemplate"),g=document.getElementById("actions"),p=document.getElementById("clearCompletedButton"),d=document.getElementById("tasksAll"),H=document.getElementById("tasksActive"),K=document.getElementById("tasksCompleted"),h=document.getElementById("taskDescriptionModal"),I=document.getElementById("taskTitle"),C=document.getElementById("taskDescription"),B=document.getElementById("taskCreatedDate"),E=document.getElementById("taskStatus"),v=document.getElementById("taskId"),S=document.documentElement,F=document.getElementById("audioRemoveTask"),W=document.getElementById("audioThemeChange"),D=document.getElementById("audioSelectStatus"),Y=document.getElementById("audioCheck"),z=document.getElementById("audioAddNewTask"),Q=()=>{const e=Date.now(),t=Math.floor(Math.random()*1e4);let n=e.toString()+t.toString();return n.length<16&&(n=n.padStart(16,"0")),n},o=[],[V,M]=["active","completed"],X=()=>o.filter(t=>t.status===V),Z=()=>o.filter(t=>t.status===M),_=()=>o.filter(t=>t.status!==M),ee=e=>{if(e instanceof Object&&typeof e.id!==void 0&&typeof e.createdDate!==void 0&&typeof e.description!==void 0&&typeof e.title!==void 0&&typeof e.status!==void 0)return!0},te=e=>ee(e)?(o.push(e),o):new Error("A item must be object {} and must be include id, createdDate, description title, status"),ne=()=>{const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date,c=n.toLocaleTimeString().toLowerCase(),s=n.getDate(),a=e[n.getDay()],r=t[n.getMonth()];return`${n.getFullYear()} year ${s} ${r} ${a}, ${c}`},O=()=>{S.classList.contains("dark")?(m.src=location.origin+m.dataset.moon,S.classList.remove("dark"),localStorage.setItem("mode","light")):(m.src=location.origin+m.dataset.shine,S.classList.add("dark"),localStorage.setItem("mode","dark"))},se=e=>{Y.play();const[t,n]=["completed","active"];o.forEach(c=>{const{id:s,status:a}=c;e===s&&(a===t?c.status=n:c.status=t)}),localStorage.setItem("tasks",JSON.stringify(o))},oe=e=>(F.play(),o.filter(n=>n.id!==e)),ae=e=>o.find(n=>n.id===e),re=U.content,A=document.createDocumentFragment(),{swing:ce}={swing:"swing"},[b,N]=["flex","hidden"],l=e=>{L.innerHTML="",e.length>0?(e.forEach((t,n)=>{const{id:c,title:s,status:a}=t,r=re.cloneNode(!0),k=r.getElementById("taskCard"),i=r.getElementById("taskTitle"),y=r.querySelector(".js-task-checker"),u=r.getElementById("taskCheckerLabel"),J=r.getElementById("taskRemoveButton");i.innerText=s,i.title=i.innerText,y.id=c,u.htmlFor=y.id,i.dataset.id=u.htmlFor,i.onclick=({target:{dataset:{id:f}}})=>{const{title:R,id:$,status:q,createdDate:P,description:j}=ae(f);h.showModal(),I.innerText=R,C.innerText=j,B.innerText=P,E.innerText=q,v.innerText=$,I.title=I.innerText,C.title=C.innerText,B.title=B.innerText,E.title=E.innerText,v.title=v.innerText},u.onclick=()=>{se(u.htmlFor)},a==="completed"&&(y.checked=!0),J.onclick=()=>{const f=oe(u.htmlFor);o.length=0,o.push(...f),l(o)},n===e.length-1&&k.classList.add(ce),A.appendChild(k)}),g.classList.remove(N),g.classList.add(b)):(g.classList.remove(b),g.classList.add(N)),localStorage.setItem("tasks",JSON.stringify(e)),L.appendChild(A)},[w]=["pointer-events-none"];x.onclick=()=>{W.play(),O()};G.onsubmit=e=>{if(z.play(),e.preventDefault(),T.value.trim()!==""){const t={createdDate:ne(),id:Q(),title:T.value,status:"active",get description(){return`This task created at ${this.createdDate}`}},n=te(t);l(n)}T.value=""};d.onchange=()=>{D.play(),console.log(d.checked),d.checked&&p.classList.remove(w),l(o)};H.onchange=()=>{D.play(),p.classList.add(w);const e=X();e.length===0?(alert("No data"),d.checked=!0):l(e)};K.onchange=()=>{D.play(),p.classList.add(w);const e=Z();e.length===0?(alert("No data"),d.checked=!0):l(e)};p.onclick=()=>{F.play();const e=_();o.length=0,o.push(...e),l(o)};h.onclick=({target:e})=>{e===h&&h.close()};window.onload=()=>{d.checked=!0,localStorage.getItem("mode")==="dark"&&O();const e=JSON.parse(localStorage.getItem("tasks"));e.length>0&&(o.push(...e),l(o))};
